import{c as A,r as o,M as _,j as e,i as S,u as T,P as L,a as O,b as V,d as W,m as $,X as D}from"./index-D6BC16LM.js";const K=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],I=A("message-circle",K);const X=[["path",{d:"M5 12h14",key:"1ays0h"}]],G=A("minus",X);const Y=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],q=A("send",Y);function P(t,c){if(typeof t=="function")return t(c);t!=null&&(t.current=c)}function J(...t){return c=>{let s=!1;const r=t.map(a=>{const i=P(a,c);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():P(t[a],null)}}}}function Q(...t){return o.useCallback(J(...t),t)}class Z extends o.Component{getSnapshotBeforeUpdate(c){const s=this.props.childRef.current;if(s&&c.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=s.offsetParent,a=S(r)&&r.offsetWidth||0,i=S(r)&&r.offsetHeight||0,n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft,n.right=a-n.width-n.left,n.bottom=i-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function ee({children:t,isPresent:c,anchorX:s,anchorY:r,root:a,pop:i}){const n=o.useId(),m=o.useRef(null),g=o.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=o.useContext(_),l=t.props?.ref??t?.ref,b=Q(m,l);return o.useInsertionEffect(()=>{const{width:h,height:f,top:x,left:y,right:j,bottom:E}=g.current;if(c||i===!1||!m.current||!h||!f)return;const N=s==="left"?`left: ${y}`:`right: ${j}`,M=r==="bottom"?`bottom: ${E}`:`top: ${x}`;m.current.dataset.motionPopId=n;const u=document.createElement("style");p&&(u.nonce=p);const w=a??document.head;return w.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${N}px !important;
            ${M}px !important;
          }
        `),()=>{w.contains(u)&&w.removeChild(u)}},[c]),e.jsx(Z,{isPresent:c,childRef:m,sizeRef:g,pop:i,children:i===!1?t:o.cloneElement(t,{ref:b})})}const te=({children:t,initial:c,isPresent:s,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:n,anchorX:m,anchorY:g,root:p})=>{const l=T(se),b=o.useId();let h=!0,f=o.useMemo(()=>(h=!1,{id:b,initial:c,isPresent:s,custom:a,onExitComplete:x=>{l.set(x,!0);for(const y of l.values())if(!y)return;r&&r()},register:x=>(l.set(x,!1),()=>l.delete(x))}),[s,l,r]);return i&&h&&(f={...f}),o.useMemo(()=>{l.forEach((x,y)=>l.set(y,!1))},[s]),o.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),t=e.jsx(ee,{pop:n==="popLayout",isPresent:s,anchorX:m,anchorY:g,root:p,children:t}),e.jsx(L.Provider,{value:f,children:t})};function se(){return new Map}const R=t=>t.key||"";function B(t){const c=[];return o.Children.forEach(t,s=>{o.isValidElement(s)&&c.push(s)}),c}const oe=({children:t,custom:c,initial:s=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:n=!1,anchorX:m="left",anchorY:g="top",root:p})=>{const[l,b]=O(n),h=o.useMemo(()=>B(t),[t]),f=n&&!l?[]:h.map(R),x=o.useRef(!0),y=o.useRef(h),j=T(()=>new Map),E=o.useRef(new Set),[N,M]=o.useState(h),[u,w]=o.useState(h);V(()=>{x.current=!1,y.current=h;for(let C=0;C<u.length;C++){const d=R(u[C]);f.includes(d)?(j.delete(d),E.current.delete(d)):j.get(d)!==!0&&j.set(d,!1)}},[u,f.length,f.join("-")]);const F=[];if(h!==N){let C=[...h];for(let d=0;d<u.length;d++){const v=u[d],k=R(v);f.includes(k)||(C.splice(d,0,v),F.push(v))}return i==="wait"&&F.length&&(C=F),w(B(C)),M(h),null}const{forceRender:H}=o.useContext(W);return e.jsx(e.Fragment,{children:u.map(C=>{const d=R(C),v=n&&!l?!1:h===u||f.includes(d),k=()=>{if(E.current.has(d))return;if(E.current.add(d),j.has(d))j.set(d,!0);else return;let z=!0;j.forEach(U=>{U||(z=!1)}),z&&(H?.(),w(y.current),n&&b?.(),r&&r())};return e.jsx(te,{isPresent:v,initial:!x.current||s?void 0:!1,custom:c,presenceAffectsLayout:a,mode:i,root:p,onExitComplete:v?void 0:k,anchorX:m,anchorY:g,children:C},d)})})};function re(){const[t,c]=o.useState(!1),[s,r]=o.useState([{text:"Hello! Welcome to Al Shomoukh International School. How can I assist you today?",isUser:!1}]),[a,i]=o.useState(""),n=o.useRef(null),m=()=>{n.current?.scrollIntoView({behavior:"smooth"})};o.useEffect(()=>{m()},[s]);const g=async p=>{if(p.preventDefault(),!a.trim())return;const l=a.trim();r(b=>[...b,{text:l,isUser:!0}]),i(""),setTimeout(()=>{r(b=>[...b,{text:"Thank you for your message. Our team will get back to you shortly.",isUser:!1}])},1e3)};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{"code-path":"src/components/Chatbot.tsx:40:13",children:t&&e.jsxs($.div,{"code-path":"src/components/Chatbot.tsx:42:21",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed bottom-24 right-6 w-80 md:w-96 bg-[#F4F1EA] shadow-2xl rounded-2xl overflow-hidden z-50 border border-[#C9A45C]/20 font-inter",children:[e.jsxs("div",{"code-path":"src/components/Chatbot.tsx:49:25",className:"bg-[#0B1E2F] p-4 flex justify-between items-center text-white",children:[e.jsxs("div",{"code-path":"src/components/Chatbot.tsx:50:29",className:"flex items-center gap-3",children:[e.jsx("div",{"code-path":"src/components/Chatbot.tsx:51:33",className:"w-8 h-8 rounded-full bg-[#C9A45C] flex items-center justify-center text-[#0B1E2F]",children:e.jsx(I,{"code-path":"src/components/Chatbot.tsx:52:37",size:18})}),e.jsxs("div",{"code-path":"src/components/Chatbot.tsx:54:33",children:[e.jsx("h3",{"code-path":"src/components/Chatbot.tsx:55:37",className:"font-medium text-sm",children:"School Assistant"}),e.jsxs("div",{"code-path":"src/components/Chatbot.tsx:56:37",className:"flex items-center gap-1.5",children:[e.jsx("span",{"code-path":"src/components/Chatbot.tsx:57:41",className:"w-1.5 h-1.5 rounded-full bg-green-400"}),e.jsx("span",{"code-path":"src/components/Chatbot.tsx:58:41",className:"text-xs text-gray-300",children:"Online"})]})]})]}),e.jsx("div",{"code-path":"src/components/Chatbot.tsx:62:29",className:"flex items-center gap-2",children:e.jsx("button",{"code-path":"src/components/Chatbot.tsx:63:33",onClick:()=>c(!1),className:"p-1 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(G,{"code-path":"src/components/Chatbot.tsx:67:37",size:18})})})]}),e.jsxs("div",{"code-path":"src/components/Chatbot.tsx:73:25",className:"h-80 overflow-y-auto p-4 space-y-4 bg-[#F4F1EA]",children:[s.map((p,l)=>e.jsx("div",{"code-path":"src/components/Chatbot.tsx:75:33",className:`flex ${p.isUser?"justify-end":"justify-start"}`,children:e.jsx("div",{"code-path":"src/components/Chatbot.tsx:79:37",className:`max-w-[80%] p-3 rounded-2xl text-sm ${p.isUser?"bg-[#0B1E2F] text-white rounded-br-none":"bg-white border border-[#C9A45C]/20 text-[#0B1E2F] rounded-bl-none shadow-sm"}`,children:p.text})},l)),e.jsx("div",{"code-path":"src/components/Chatbot.tsx:89:29",ref:n})]}),e.jsx("form",{"code-path":"src/components/Chatbot.tsx:93:25",onSubmit:g,className:"p-3 bg-white border-t border-[#C9A45C]/20",children:e.jsxs("div",{"code-path":"src/components/Chatbot.tsx:94:29",className:"flex items-center gap-2 bg-[#F4F1EA] rounded-full px-4 py-2 border border-transparent focus-within:border-[#C9A45C]/50 transition-colors",children:[e.jsx("input",{"code-path":"src/components/Chatbot.tsx:95:33",type:"text",value:a,onChange:p=>i(p.target.value),placeholder:"Type a message...",className:"flex-1 bg-transparent text-sm outline-none text-[#0B1E2F] placeholder:text-gray-400"}),e.jsx("button",{"code-path":"src/components/Chatbot.tsx:102:33",type:"submit",disabled:!a.trim(),className:"p-1.5 bg-[#C9A45C] text-[#0B1E2F] rounded-full hover:bg-[#b8944d] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(q,{"code-path":"src/components/Chatbot.tsx:107:37",size:16})})]})})]})}),e.jsx($.button,{"code-path":"src/components/Chatbot.tsx:115:13",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(!t),className:"fixed bottom-6 right-6 p-4 bg-[#0B1E2F] text-[#C9A45C] rounded-full shadow-lg z-50 hover:shadow-xl transition-shadow border-2 border-[#C9A45C]",children:t?e.jsx(D,{"code-path":"src/components/Chatbot.tsx:121:27",size:24}):e.jsx(I,{"code-path":"src/components/Chatbot.tsx:121:45",size:24})})]})}export{re as default};
